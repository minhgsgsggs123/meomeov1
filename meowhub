local TweenService = game:GetService("TweenService")

-- Tạo ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "meowhub"
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

-- Tạo nút toggle menu (ô vuông bo tròn nhỏ)
local ToggleBtn = Instance.new("ImageButton")
ToggleBtn.Name = "MenuToggle"
ToggleBtn.Size = UDim2.new(0, 50, 0, 50)
ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
ToggleBtn.BorderSizePixel = 0
ToggleBtn.Active = true
ToggleBtn.Draggable = true

local ToggleStroke = Instance.new("UIStroke")
ToggleStroke.Color = Color3.fromRGB(255, 182, 193)
ToggleStroke.Thickness = 2
ToggleStroke.Parent = ToggleBtn

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 12)
ToggleCorner.Parent = ToggleBtn

local ToggleImageFrame = Instance.new("Frame")
ToggleImageFrame.Size = UDim2.new(1, -10, 1, -10)
ToggleImageFrame.Position = UDim2.new(0, 5, 0, 5)
ToggleImageFrame.BackgroundTransparency = 1
ToggleImageFrame.Parent = ToggleBtn

local ToggleImageCorner = Instance.new("UICorner")
ToggleImageCorner.CornerRadius = UDim.new(0, 8)
ToggleImageCorner.Parent = ToggleImageFrame

local ToggleIcon = Instance.new("ImageLabel")
ToggleIcon.Name = "Icon"
ToggleIcon.Size = UDim2.new(1, 0, 1, 0)
ToggleIcon.BackgroundTransparency = 1
ToggleIcon.Image = "rbxassetid://74593584475472"
ToggleIcon.ScaleType = Enum.ScaleType.Fit
ToggleIcon.Parent = ToggleImageFrame

ToggleBtn.Parent = gui

-- Frame chính
local Main = Instance.new("Frame")
Main.Name = "MainFrame"
Main.Size = UDim2.new(0, 650, 0, 380)
Main.Position = UDim2.new(0.5, -325, 0.5, -190)
Main.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Main.Visible = false
Main.Parent = gui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = Main

-- Header
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 36)
Header.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
Header.BorderSizePixel = 0
Header.Parent = Main

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 10)
HeaderCorner.Parent = Header

local Title = Instance.new("TextLabel")
Title.Text = "meow hub - lọ cùng bốp bốp "
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextColor3 = Color3.fromRGB(80, 30, 60)
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 12, 0, 0)
Title.Size = UDim2.new(1, -50, 1, 0)
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

-- Nút tắt
local CloseBtn = Instance.new("TextButton")
CloseBtn.Text = "✖"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Size = UDim2.new(0, 35, 1, 0)
CloseBtn.Position = UDim2.new(1, -35, 0, 0)
CloseBtn.ZIndex = 10
CloseBtn.Parent = Header

-- Warning Frame
local WarningFrame = Instance.new("Frame")
WarningFrame.Name = "WarningFrame"
WarningFrame.Size = UDim2.new(0, 250, 0, 120)
WarningFrame.AnchorPoint = Vector2.new(0.5, 0.5)
WarningFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
WarningFrame.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
WarningFrame.BorderSizePixel = 0
WarningFrame.Visible = false
WarningFrame.ZIndex = 20
WarningFrame.Parent = Main

local WarningCorner = Instance.new("UICorner")
WarningCorner.CornerRadius = UDim.new(0, 10)
WarningCorner.Parent = WarningFrame

local WarningStroke = Instance.new("UIStroke")
WarningStroke.Color = Color3.fromRGB(255, 182, 193)
WarningStroke.Thickness = 2
WarningStroke.Parent = WarningFrame

local WarningTitle = Instance.new("TextLabel")
WarningTitle.Text = "Cảnh báo"
WarningTitle.Font = Enum.Font.GothamBold
WarningTitle.TextSize = 16
WarningTitle.TextColor3 = Color3.fromRGB(255, 105, 180)
WarningTitle.BackgroundTransparency = 1
WarningTitle.Size = UDim2.new(1, 0, 0, 30)
WarningTitle.Position = UDim2.new(0, 0, 0, 5)
WarningTitle.ZIndex = 21
WarningTitle.Parent = WarningFrame

local WarningText = Instance.new("TextLabel")
WarningText.Text = "Bạn có muốn tắt script không?"
WarningText.Font = Enum.Font.Gotham
WarningText.TextSize = 14
WarningText.TextColor3 = Color3.fromRGB(80, 30, 60)
WarningText.BackgroundTransparency = 1
WarningText.Size = UDim2.new(1, -20, 0, 30)
WarningText.Position = UDim2.new(0, 10, 0, 35)
WarningText.ZIndex = 21
WarningText.Parent = WarningFrame

local YesBtn = Instance.new("TextButton")
YesBtn.Text = "Có"
YesBtn.Font = Enum.Font.GothamBold
YesBtn.TextSize = 14
YesBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
YesBtn.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
YesBtn.Size = UDim2.new(0, 60, 0, 30)
YesBtn.Position = UDim2.new(0.5, -70, 1, -40)
YesBtn.ZIndex = 21
YesBtn.Parent = WarningFrame

local YesCorner = Instance.new("UICorner")
YesCorner.CornerRadius = UDim.new(0, 6)
YesCorner.Parent = YesBtn

local NoBtn = Instance.new("TextButton")
NoBtn.Text = "Không"
NoBtn.Font = Enum.Font.GothamBold
NoBtn.TextSize = 14
NoBtn.TextColor3 = Color3.fromRGB(80, 30, 60)
NoBtn.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
NoBtn.Size = UDim2.new(0, 60, 0, 30)
NoBtn.Position = UDim2.new(0.5, 10, 1, -40)
NoBtn.ZIndex = 21
NoBtn.Parent = WarningFrame

local NoCorner = Instance.new("UICorner")
NoCorner.CornerRadius = UDim.new(0, 6)
NoCorner.Parent = NoBtn

-- Content Frame (chứa Sidebar và Main Content)
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -20, 1, -56)
Content.Position = UDim2.new(0, 10, 0, 46)
Content.BackgroundColor3 = Color3.fromRGB(255, 250, 252)
Content.BorderSizePixel = 0
Content.Parent = Main

local ContentCorner = Instance.new("UICorner")
ContentCorner.CornerRadius = UDim.new(0, 8)
ContentCorner.Parent = Content

-- SIDEBAR (Thanh tab bên trái)
local Sidebar = Instance.new("Frame")
Sidebar.Name = "Sidebar"
Sidebar.Size = UDim2.new(0, 160, 1, 0)
Sidebar.Position = UDim2.new(0, 0, 0, 0)
Sidebar.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
Sidebar.BorderSizePixel = 0
Sidebar.Parent = Content

local SidebarCorner = Instance.new("UICorner")
SidebarCorner.CornerRadius = UDim.new(0, 8)
SidebarCorner.Parent = Sidebar

local SidebarList = Instance.new("UIListLayout")
SidebarList.Padding = UDim.new(0, 2)
SidebarList.SortOrder = Enum.SortOrder.LayoutOrder
SidebarList.Parent = Sidebar

-- Main Content (Nội dung bên phải)
local MainContent = Instance.new("Frame")
MainContent.Name = "MainContent"
MainContent.Size = UDim2.new(1, -170, 1, -10)
MainContent.Position = UDim2.new(0, 165, 0, 5)
MainContent.BackgroundColor3 = Color3.fromRGB(255, 250, 252)
MainContent.BorderSizePixel = 0
MainContent.Parent = Content

local MainContentCorner = Instance.new("UICorner")
MainContentCorner.CornerRadius = UDim.new(0, 8)
MainContentCorner.Parent = MainContent

-- Hàm tạo Tab Button
local function CreateTab(name, icon, order)
    local TabBtn = Instance.new("TextButton")
    TabBtn.Name = name
    TabBtn.Size = UDim2.new(1, 0, 0, 38)
    TabBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
    TabBtn.BorderSizePixel = 0
    TabBtn.Text = ""
    TabBtn.AutoButtonColor = false
    TabBtn.LayoutOrder = order
    TabBtn.Parent = Sidebar
    
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 6)
    TabCorner.Parent = TabBtn
    
    -- Icon
    local TabIcon = Instance.new("ImageLabel")
    TabIcon.Size = UDim2.new(0, 20, 0, 20)
    TabIcon.Position = UDim2.new(0, 12, 0.5, -10)
    TabIcon.BackgroundTransparency = 1
    TabIcon.Image = icon
    TabIcon.ImageColor3 = Color3.fromRGB(150, 150, 155)
    TabIcon.Parent = TabBtn
    
    -- Text
    local TabText = Instance.new("TextLabel")
    TabText.Size = UDim2.new(1, -45, 1, 0)
    TabText.Position = UDim2.new(0, 40, 0, 0)
    TabText.BackgroundTransparency = 1
    TabText.Text = name
    TabText.Font = Enum.Font.GothamMedium
    TabText.TextSize = 14
    TabText.TextColor3 = Color3.fromRGB(150, 150, 155)
    TabText.TextXAlignment = Enum.TextXAlignment.Left
    TabText.Parent = TabBtn
    
    -- Indicator (thanh màu bên trái khi active)
    local Indicator = Instance.new("Frame")
    Indicator.Name = "Indicator"
    Indicator.Size = UDim2.new(0, 3, 0, 24)
    Indicator.Position = UDim2.new(0, 0, 0.5, -12)
    Indicator.BackgroundColor3 = Color3.fromRGB(100, 150, 255)
    Indicator.BorderSizePixel = 0
    Indicator.Visible = false
    Indicator.Parent = TabBtn
    
    local IndicatorCorner = Instance.new("UICorner")
    IndicatorCorner.CornerRadius = UDim.new(1, 0)
    IndicatorCorner.Parent = Indicator
    
    -- Tạo Content Frame cho tab này
    local TabContent = Instance.new("ScrollingFrame")
    TabContent.Name = name.."Content"
    TabContent.Size = UDim2.new(1, -10, 1, -10)
    TabContent.Position = UDim2.new(0, 5, 0, 5)
    TabContent.BackgroundTransparency = 1
    TabContent.BorderSizePixel = 0
    TabContent.ScrollBarThickness = 4
    TabContent.ScrollBarImageColor3 = Color3.fromRGB(255, 182, 193)
    TabContent.Visible = false
    TabContent.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
    TabContent.Parent = MainContent
    
    local TabContentList = Instance.new("UIListLayout")
    TabContentList.Padding = UDim.new(0, 8)
    TabContentList.SortOrder = Enum.SortOrder.LayoutOrder
    TabContentList.Parent = TabContent
    
    -- Hover effect
    TabBtn.MouseEnter:Connect(function()
        if not TabBtn:FindFirstChild("Active") then
            TweenService:Create(TabBtn, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(50, 50, 55)}):Play()
        end
    end)
    
    TabBtn.MouseLeave:Connect(function()
        if not TabBtn:FindFirstChild("Active") then
            TweenService:Create(TabBtn, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(40, 40, 45)}):Play()
        end
    end)
    
    return TabBtn, TabContent, TabIcon, TabText, Indicator
end

-- Tạo các Tab
local tabs = {}

-- Discord Tab
local DiscordTab, DiscordContent, DiscordIcon, DiscordText, DiscordIndicator = CreateTab("Discord", "rbxassetid://7733955511", 1)
table.insert(tabs, {btn = DiscordTab, content = DiscordContent, icon = DiscordIcon, text = DiscordText, indicator = DiscordIndicator})

-- Farm Tab
local FarmTab, FarmContent, FarmIcon, FarmText, FarmIndicator = CreateTab("Farm", "rbxassetid://7733920644", 2)
table.insert(tabs, {btn = FarmTab, content = FarmContent, icon = FarmIcon, text = FarmText, indicator = FarmIndicator})

-- Sea Tab
local SeaTab, SeaContent, SeaIcon, SeaText, SeaIndicator = CreateTab("Sea", "rbxassetid://7733992346", 3)
table.insert(tabs, {btn = SeaTab, content = SeaContent, icon = SeaIcon, text = SeaText, indicator = SeaIndicator})

-- Islands Tab
local IslandsTab, IslandsContent, IslandsIcon, IslandsText, IslandsIndicator = CreateTab("Islands", "rbxassetid://7733954760", 4)
table.insert(tabs, {btn = IslandsTab, content = IslandsContent, icon = IslandsIcon, text = IslandsText, indicator = IslandsIndicator})

-- Quests/Items Tab
local QuestsTab, QuestsContent, QuestsIcon, QuestsText, QuestsIndicator = CreateTab("Quests/Items", "rbxassetid://7733964370", 5)
table.insert(tabs, {btn = QuestsTab, content = QuestsContent, icon = QuestsIcon, text = QuestsText, indicator = QuestsIndicator})

-- Fruit/Raid Tab
local FruitTab, FruitContent, FruitIcon, FruitText, FruitIndicator = CreateTab("Fruit/Raid", "rbxassetid://7733779730", 6)
table.insert(tabs, {btn = FruitTab, content = FruitContent, icon = FruitIcon, text = FruitText, indicator = FruitIndicator})

-- Stats Tab
local StatsTab, StatsContent, StatsIcon, StatsText, StatsIndicator = CreateTab("Stats", "rbxassetid://7734053426", 7)
table.insert(tabs, {btn = StatsTab, content = StatsContent, icon = StatsIcon, text = StatsText, indicator = StatsIndicator})

-- Teleport Tab
local TeleportTab, TeleportContent, TeleportIcon, TeleportText, TeleportIndicator = CreateTab("Teleport", "rbxassetid://7733920644", 8)
table.insert(tabs, {btn = TeleportTab, content = TeleportContent, icon = TeleportIcon, text = TeleportText, indicator = TeleportIndicator})

-- Visual Tab
local VisualTab, VisualContent, VisualIcon, VisualText, VisualIndicator = CreateTab("Visual", "rbxassetid://7733708835", 9)
table.insert(tabs, {btn = VisualTab, content = VisualContent, icon = VisualIcon, text = VisualText, indicator = VisualIndicator})

-- Shop Tab
local ShopTab, ShopContent, ShopIcon, ShopText, ShopIndicator = CreateTab("Shop", "rbxassetid://7734068321", 10)
table.insert(tabs, {btn = ShopTab, content = ShopContent, icon = ShopIcon, text = ShopText, indicator = ShopIndicator})

-- Misc Tab
local MiscTab, MiscContent, MiscIcon, MiscText, MiscIndicator = CreateTab("Misc", "rbxassetid://7734053426", 11)
table.insert(tabs, {btn = MiscTab, content = MiscContent, icon = MiscIcon, text = MiscText, indicator = MiscIndicator})

-- Hàm switch tab
local currentTab = nil
local function SwitchTab(tabData)
    -- Tắt tab cũ
    if currentTab then
        currentTab.indicator.Visible = false
        currentTab.content.Visible = false
        TweenService:Create(currentTab.btn, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(40, 40, 45)}):Play()
        TweenService:Create(currentTab.icon, TweenInfo.new(0.15), {ImageColor3 = Color3.fromRGB(150, 150, 155)}):Play()
        TweenService:Create(currentTab.text, TweenInfo.new(0.15), {TextColor3 = Color3.fromRGB(150, 150, 155)}):Play()
        if currentTab.btn:FindFirstChild("Active") then
            currentTab.btn.Active:Destroy()
        end
    end
    
    -- Bật tab mới
    currentTab = tabData
    currentTab.indicator.Visible = true
    currentTab.content.Visible = true
    TweenService:Create(currentTab.btn, TweenInfo.new(0.15), {BackgroundColor3 = Color3.fromRGB(55, 55, 65)}):Play()
    TweenService:Create(currentTab.icon, TweenInfo.new(0.15), {ImageColor3 = Color3.fromRGB(255, 255, 255)}):Play()
    TweenService:Create(currentTab.text, TweenInfo.new(0.15), {TextColor3 = Color3.fromRGB(255, 255, 255)}):Play()
    
    local activeMarker = Instance.new("BoolValue")
    activeMarker.Name = "Active"
    activeMarker.Parent = currentTab.btn
end

-- Gán sự kiện click cho các tab
for _, tabData in ipairs(tabs) do
    tabData.btn.MouseButton1Click:Connect(function()
        SwitchTab(tabData)
    end)
end

-- Mở tab đầu tiên mặc định
SwitchTab(tabs[1])

-- Các sự kiện nút
CloseBtn.MouseEnter:Connect(function()
    TweenService:Create(CloseBtn, TweenInfo.new(0.1), {TextColor3 = Color3.fromRGB(255, 192, 203)}):Play()
end)
CloseBtn.MouseLeave:Connect(function()
    TweenService:Create(CloseBtn, TweenInfo.new(0.1), {TextColor3 = Color3.fromRGB(255, 255, 255)}):Play()
end)

CloseBtn.MouseButton1Click:Connect(function()
    WarningFrame.Visible = true
end)

YesBtn.MouseButton1Click:Connect(function()
    gui:Destroy()
end)

NoBtn.MouseButton1Click:Connect(function()
    WarningFrame.Visible = false
end)

YesBtn.MouseEnter:Connect(function()
    TweenService:Create(YesBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 65, 140)}):Play()
end)
YesBtn.MouseLeave:Connect(function()
    TweenService:Create(YesBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 105, 180)}):Play()
end)

NoBtn.MouseEnter:Connect(function()
    TweenService:Create(NoBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 192, 203)}):Play()
end)
NoBtn.MouseLeave:Connect(function()
    TweenService:Create(NoBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
end)

ToggleBtn.MouseButton1Click:Connect(function()
    if Main.Visible then
        TweenService:Create(Main, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
        TweenService:Create(Header, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
        TweenService:Create(Title, TweenInfo.new(0.15), {TextTransparency = 1}):Play()
        
        wait(0.15)
        Main.Visible = false
        WarningFrame.Visible = false
    else
        Main.Visible = true
        Main.BackgroundTransparency = 1
        Header.BackgroundTransparency = 1
        Title.TextTransparency = 1
        
        TweenService:Create(Main, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
        TweenService:Create(Header, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
        TweenService:Create(Title, TweenInfo.new(0.2), {TextTransparency = 0}):Play()
    end
end)

ToggleBtn.MouseEnter:Connect(function()
    TweenService:Create(ToggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 250, 252)}):Play()
    TweenService:Create(ToggleStroke, TweenInfo.new(0.1), {Color = Color3.fromRGB(255, 105, 180)}):Play()
end)

ToggleBtn.MouseLeave:Connect(function()
    TweenService:Create(ToggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 240, 245)}):Play()
    TweenService:Create(ToggleStroke, TweenInfo.new(0.1), {Color = Color3.fromRGB(255, 182, 193)}):Play()
end)
