-- Kiểm tra môi trường Roblox
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

-- Tạo ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "MeowHubMenu"
ScreenGui.ResetOnSpawn = false

-- Tạo Frame chính (cửa sổ menu)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 200)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = true
MainFrame.Parent = ScreenGui

-- Tạo tiêu đề
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, 0, 0, 30)
TitleLabel.Position = UDim2.new(0, 0, 0, 0)
TitleLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
TitleLabel.Text = "Meow Hub"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 18
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.Parent = MainFrame

-- Tạo nút đóng (X) ở góc trên bên phải
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 14
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.Parent = MainFrame

-- Tạo nút vuông nhỏ để đóng/mở menu (ngoài menu)
local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(0, 50, 0, 50)
ToggleButton.Position = UDim2.new(0, 10, 0, 10) -- Góc trên bên trái màn hình
ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ToggleButton.Text = "" -- Xóa text để thay bằng hình ảnh
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 20
ToggleButton.Font = Enum.Font.SourceSans
ToggleButton.Parent = ScreenGui -- Đặt trực tiếp trong ScreenGui, ngoài MainFrame

-- Tạo ImageLabel cho nút đóng/mở
local ToggleImage = Instance.new("ImageLabel")
ToggleImage.Size = UDim2.new(1, 0, 1, 0) -- Kích thước bằng với ToggleButton
ToggleImage.Position = UDim2.new(0, 0, 0, 0)
ToggleImage.BackgroundTransparency = 1
ToggleImage.Image = "rbxassetid://84675645823223" -- ID ảnh được cung cấp
ToggleImage.Parent = ToggleButton

-- Biến kiểm soát trạng thái đóng/mở
local isMenuOpen = true

-- Hàm đóng/mở menu
local function ToggleMenu()
    isMenuOpen = not isMenuOpen
    MainFrame.Visible = isMenuOpen
end

-- Gán sự kiện cho nút đóng (X)
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy() -- Xóa hoàn toàn menu
end)

-- Gán sự kiện cho nút vuông
ToggleButton.MouseButton1Click:Connect(ToggleMenu)

-- Thông báo khi menu được tải
local StarterGui = game:GetService("StarterGui")
StarterGui:SetCore("SendNotification", {
    Title = "Meow Hub",
    Text = "Menu loaded successfully!",
    Duration = 5
})
