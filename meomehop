local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

-- Tạo ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "meowhub"
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

-- Frame chính
local Main = Instance.new("Frame")
Main.Name = "MainFrame"
Main.Size = UDim2.new(0, 650, 0, 380)
Main.Position = UDim2.new(0.5, -325, 0.5, -190)
Main.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Main.Parent = gui

-- Bo tròn
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = Main

-- Header (Thanh trên)
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 36)
Header.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
Header.BorderSizePixel = 0
Header.Parent = Main

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 10)
HeaderCorner.Parent = Header

local Title = Instance.new("TextLabel")
Title.Text = "meow hub - lọ cùng bốp bốp "
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextColor3 = Color3.fromRGB(80, 30, 60)
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 12, 0, 0)
Title.Size = UDim2.new(1, -50, 1, 0)
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

-- Nút tắt
local CloseBtn = Instance.new("TextButton")
CloseBtn.Text = "✖"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Size = UDim2.new(0, 35, 1, 0)
CloseBtn.Position = UDim2.new(1, -35, 0, 0)
CloseBtn.Parent = Header

CloseBtn.MouseButton1Click:Connect(function()
	Main.Visible = false
end)

CloseBtn.MouseEnter:Connect(function()
	TweenService:Create(CloseBtn, TweenInfo.new(0.2), {TextColor3 = Color3.fromRGB(255, 192, 203)}):Play()
end)
CloseBtn.MouseLeave:Connect(function()
	TweenService:Create(CloseBtn, TweenInfo.new(0.2), {TextColor3 = Color3.fromRGB(255, 255, 255)}):Play()
end)

-- Nội dung trống
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -20, 1, -56)
Content.Position = UDim2.new(0, 10, 0, 46)
Content.BackgroundColor3 = Color3.fromRGB(255, 250, 252)
Content.BorderSizePixel = 0
Content.Parent = Main

local ContentCorner = Instance.new("UICorner")
ContentCorner.CornerRadius = UDim.new(0, 8)
ContentCorner.Parent = Content

-- Hiệu ứng mở mượt
Main.BackgroundTransparency = 1
Header.BackgroundTransparency = 1
Title.TextTransparency = 1
TweenService:Create(Main, TweenInfo.new(0.5), {BackgroundTransparency = 0}):Play()
TweenService:Create(Header, TweenInfo.new(0.5), {BackgroundTransparency = 0}):Play()
TweenService:Create(Title, TweenInfo.new(0.6), {TextTransparency = 0}):Play()

-- =========================
-- Ô vuông bật/tắt menu
-- =========================
local ToggleBtn = Instance.new("ImageButton")
ToggleBtn.Size = UDim2.new(0, 40, 0, 40)
ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(255, 182, 193) -- Hồng nhạt
ToggleBtn.BorderColor3 = Color3.fromRGB(255, 192, 203)
ToggleBtn.BorderSizePixel = 2
ToggleBtn.Parent = gui

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 12)
ToggleCorner.Parent = ToggleBtn

-- Thêm ảnh vào nút (thay bằng asset ID của bạn)
ToggleBtn.Image = "rbxassetid://136073921963463" 

-- Bật/Tắt Main khi nhấn
ToggleBtn.MouseButton1Click:Connect(function()
	Main.Visible = not Main.Visible
end)

-- Hiệu ứng hover phóng to/nhỏ mượt
ToggleBtn.MouseEnter:Connect(function()
	TweenService:Create(ToggleBtn, TweenInfo.new(0.2), {Size = UDim2.new(0, 50, 0, 50)}):Play()
end)
ToggleBtn.MouseLeave:Connect(function()
	TweenService:Create(ToggleBtn, TweenInfo.new(0.2), {Size = UDim2.new(0, 40, 0, 40)}):Play()
end)

-- Kéo ô vuông di chuyển
local dragging = false
local dragInput
local dragStart = Vector2.new()
local startPos = Vector2.new()

ToggleBtn.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = Vector2.new(ToggleBtn.Position.X.Offset, ToggleBtn.Position.Y.Offset)
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

ToggleBtn.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - dragStart
		ToggleBtn.Position = UDim2.new(0, startPos.X + delta.X, 0, startPos.Y + delta.Y)
	end
end)
