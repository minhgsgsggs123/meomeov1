local TweenService = game:GetService("TweenService")

-- Tạo ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "meowhub"
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

-- Tạo nút toggle menu (ô vuông bo tròn nhỏ)
local ToggleBtn = Instance.new("ImageButton")
ToggleBtn.Name = "MenuToggle"
ToggleBtn.Size = UDim2.new(0, 50, 0, 50)
ToggleBtn.Position = UDim2.new(0, 20, 0, 20)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
ToggleBtn.BorderSizePixel = 0
ToggleBtn.Active = true
ToggleBtn.Draggable = true -- Cho phép di chuyển

-- Thêm viền màu hồng nhạt
local ToggleStroke = Instance.new("UIStroke")
ToggleStroke.Color = Color3.fromRGB(255, 182, 193)
ToggleStroke.Thickness = 2
ToggleStroke.Parent = ToggleBtn

-- Bo tròn nút toggle (FIXED)
local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 12)
ToggleCorner.Parent = ToggleBtn

-- Tạo frame con để chứa ảnh (giúp bo tròn đúng)
local ToggleImageFrame = Instance.new("Frame")
ToggleImageFrame.Size = UDim2.new(1, -10, 1, -10)
ToggleImageFrame.Position = UDim2.new(0, 5, 0, 5)
ToggleImageFrame.BackgroundTransparency = 1
ToggleImageFrame.Parent = ToggleBtn

local ToggleImageCorner = Instance.new("UICorner")
ToggleImageCorner.CornerRadius = UDim.new(0, 8)
ToggleImageCorner.Parent = ToggleImageFrame

-- Icon bên trong nút toggle với ảnh ID của bạn
local ToggleIcon = Instance.new("ImageLabel")
ToggleIcon.Name = "Icon"
ToggleIcon.Size = UDim2.new(1, 0, 1, 0)
ToggleIcon.BackgroundTransparency = 1
ToggleIcon.Image = "rbxassetid://74593584475472" -- Ảnh ID của bạn
ToggleIcon.ScaleType = Enum.ScaleType.Fit
ToggleIcon.Parent = ToggleImageFrame

ToggleBtn.Parent = gui

-- Frame chính
local Main = Instance.new("Frame")
Main.Name = "MainFrame"
Main.Size = UDim2.new(0, 650, 0, 380)
Main.Position = UDim2.new(0.5, -325, 0.5, -190)
Main.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Main.Visible = false -- Ẩn ban đầu
Main.Parent = gui

-- Bo tròn
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = Main

-- Header (Thanh trên)
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 36)
Header.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
Header.BorderSizePixel = 0
Header.Parent = Main

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 10)
HeaderCorner.Parent = Header

local Title = Instance.new("TextLabel")
Title.Text = "meow hub - lọ cùng bốp bốp"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextColor3 = Color3.fromRGB(80, 30, 60)
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0, 12, 0, 0)
Title.Size = UDim2.new(1, -50, 1, 0)
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

-- Nút tắt
local CloseBtn = Instance.new("TextButton")
CloseBtn.Text = "✖"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Size = UDim2.new(0, 35, 1, 0)
CloseBtn.Position = UDim2.new(1, -35, 0, 0)
CloseBtn.ZIndex = 10 -- Đặt ZIndex cao hơn
CloseBtn.Parent = Header

-- Tạo frame cảnh báo (sử dụng Scale thay vì Offset)
local WarningFrame = Instance.new("Frame")
WarningFrame.Name = "WarningFrame"
WarningFrame.Size = UDim2.new(0, 250, 0, 120)
WarningFrame.AnchorPoint = Vector2.new(0.5, 0.5)
WarningFrame.Position = UDim2.new(0.5, 0, 0.5, 0) -- Chính giữa thực sự
WarningFrame.BackgroundColor3 = Color3.fromRGB(255, 240, 245)
WarningFrame.BorderSizePixel = 0
WarningFrame.Visible = false
WarningFrame.ZIndex = 20 -- ZIndex cao nhất
WarningFrame.Parent = Main

local WarningCorner = Instance.new("UICorner")
WarningCorner.CornerRadius = UDim.new(0, 10)
WarningCorner.Parent = WarningFrame

local WarningStroke = Instance.new("UIStroke")
WarningStroke.Color = Color3.fromRGB(255, 182, 193)
WarningStroke.Thickness = 2
WarningStroke.Parent = WarningFrame

-- Tiêu đề cảnh báo
local WarningTitle = Instance.new("TextLabel")
WarningTitle.Text = "Cảnh báo"
WarningTitle.Font = Enum.Font.GothamBold
WarningTitle.TextSize = 16
WarningTitle.TextColor3 = Color3.fromRGB(255, 105, 180)
WarningTitle.BackgroundTransparency = 1
WarningTitle.Size = UDim2.new(1, 0, 0, 30)
WarningTitle.Position = UDim2.new(0, 0, 0, 5)
WarningTitle.ZIndex = 21
WarningTitle.Parent = WarningFrame

-- Nội dung cảnh báo
local WarningText = Instance.new("TextLabel")
WarningText.Text = "Bạn có muốn tắt script không?"
WarningText.Font = Enum.Font.Gotham
WarningText.TextSize = 14
WarningText.TextColor3 = Color3.fromRGB(80, 30, 60)
WarningText.BackgroundTransparency = 1
WarningText.Size = UDim2.new(1, -20, 0, 30)
WarningText.Position = UDim2.new(0, 10, 0, 35)
WarningText.ZIndex = 21
WarningText.Parent = WarningFrame

-- Nút Có
local YesBtn = Instance.new("TextButton")
YesBtn.Text = "Có"
YesBtn.Font = Enum.Font.GothamBold
YesBtn.TextSize = 14
YesBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
YesBtn.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
YesBtn.Size = UDim2.new(0, 60, 0, 30)
YesBtn.Position = UDim2.new(0.5, -70, 1, -40)
YesBtn.ZIndex = 21
YesBtn.Parent = WarningFrame

local YesCorner = Instance.new("UICorner")
YesCorner.CornerRadius = UDim.new(0, 6)
YesCorner.Parent = YesBtn

-- Nút Không
local NoBtn = Instance.new("TextButton")
NoBtn.Text = "Không"
NoBtn.Font = Enum.Font.GothamBold
NoBtn.TextSize = 14
NoBtn.TextColor3 = Color3.fromRGB(80, 30, 60)
NoBtn.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
NoBtn.Size = UDim2.new(0, 60, 0, 30)
NoBtn.Position = UDim2.new(0.5, 10, 1, -40)
NoBtn.ZIndex = 21
NoBtn.Parent = WarningFrame

local NoCorner = Instance.new("UICorner")
NoCorner.CornerRadius = UDim.new(0, 6)
NoCorner.Parent = NoBtn

-- Hiệu ứng hover nút tắt
CloseBtn.MouseEnter:Connect(function()
    TweenService:Create(CloseBtn, TweenInfo.new(0.1), {TextColor3 = Color3.fromRGB(255, 192, 203)}):Play()
end)
CloseBtn.MouseLeave:Connect(function()
    TweenService:Create(CloseBtn, TweenInfo.new(0.1), {TextColor3 = Color3.fromRGB(255, 255, 255)}):Play()
end)

-- Nội dung chính
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -20, 1, -56)
Content.Position = UDim2.new(0, 10, 0, 46)
Content.BackgroundColor3 = Color3.fromRGB(255, 250, 252)
Content.BorderSizePixel = 0
Content.Parent = Main

local ContentCorner = Instance.new("UICorner")
ContentCorner.CornerRadius = UDim.new(0, 8)
ContentCorner.Parent = Content

-- TẠO TAB SYSTEM GIỐNG TRONG ẢNH
local LeftTabs = Instance.new("Frame")
LeftTabs.Name = "LeftTabs"
LeftTabs.Size = UDim2.new(0, 150, 1, 0)
LeftTabs.BackgroundTransparency = 1
LeftTabs.Parent = Content

local RightContent = Instance.new("Frame")
RightContent.Name = "RightContent"
RightContent.Size = UDim2.new(1, -160, 1, 0)
RightContent.Position = UDim2.new(0, 160, 0, 0)
RightContent.BackgroundTransparency = 1
RightContent.Parent = Content

-- Danh sách các tab theo ảnh
local tabsList = {
    "1️⃣ Discord",
    "2️⃣ Farm", 
    "3️⃣ Sea",
    "4️⃣ Islands",
    "5️⃣ Quests/Items",
    "6️⃣ Fruit/Paid",
    "7️⃣ Stats",
    "8️⃣ Teleport",
    "9️⃣ Visual",
    "1️⃣0️⃣ Shop",
    "1️⃣1️⃣ Misc"
}

local tabButtons = {}
local tabFrames = {}

-- Tạo các nút tab bên trái
for i, tabName in ipairs(tabsList) do
    -- Tạo nút tab
    local tabBtn = Instance.new("TextButton")
    tabBtn.Name = "Tab_" .. string.gsub(tabName, "[%s/]", "_")
    tabBtn.Size = UDim2.new(1, -10, 0, 30)
    tabBtn.Position = UDim2.new(0, 5, 0, (i-1)*35 + 5)
    tabBtn.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
    tabBtn.Text = tabName
    tabBtn.Font = Enum.Font.GothamBold
    tabBtn.TextSize = 12
    tabBtn.TextColor3 = Color3.fromRGB(80, 30, 60)
    tabBtn.TextXAlignment = Enum.TextXAlignment.Left
    tabBtn.Parent = LeftTabs
    
    local tabCorner = Instance.new("UICorner")
    tabCorner.CornerRadius = UDim.new(0, 6)
    tabCorner.Parent = tabBtn
    
    local tabPadding = Instance.new("UIPadding")
    tabPadding.PaddingLeft = UDim.new(0, 8)
    tabPadding.Parent = tabBtn
    
    -- Tạo frame nội dung cho mỗi tab
    local tabFrame = Instance.new("Frame")
    tabFrame.Name = "Frame_" .. string.gsub(tabName, "[%s/]", "_")
    tabFrame.Size = UDim2.new(1, 0, 1, 0)
    tabFrame.BackgroundTransparency = 1
    tabFrame.Visible = false
    tabFrame.Parent = RightContent
    
    tabButtons[tabName] = tabBtn
    tabFrames[tabName] = tabFrame
    
    -- Hiệu ứng hover
    tabBtn.MouseEnter:Connect(function()
        if not tabFrame.Visible then
            TweenService:Create(tabBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 192, 203)}):Play()
        end
    end)
    
    tabBtn.MouseLeave:Connect(function()
        if not tabFrame.Visible then
            TweenService:Create(tabBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
        end
    end)
    
    -- Chức năng chuyển tab
    tabBtn.MouseButton1Click:Connect(function()
        for name, frame in pairs(tabFrames) do
            frame.Visible = false
            TweenService:Create(tabButtons[name], TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
        end
        
        tabFrame.Visible = true
        TweenService:Create(tabBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 105, 180)}):Play()
    end)
end

-- THÊM NỘI DUNG CHO CÁC TAB --

-- Tab Discord
local DiscordFrame = tabFrames["1️⃣ Discord"]
local discordLabel = Instance.new("TextLabel")
discordLabel.Text = "Join our Discord for updates!"
discordLabel.Font = Enum.Font.GothamBold
discordLabel.TextSize = 16
discordLabel.TextColor3 = Color3.fromRGB(80, 30, 60)
discordLabel.BackgroundTransparency = 1
discordLabel.Size = UDim2.new(1, 0, 0, 30)
discordLabel.Position = UDim2.new(0, 0, 0, 20)
discordLabel.Parent = DiscordFrame

-- Tab Farm
local FarmFrame = tabFrames["2️⃣ Farm"]
local autoFarmBtn = createToggleButton("Auto Farm", 20, 20, FarmFrame)
local autoSwordBtn = createToggleButton("Auto Sword", 20, 70, FarmFrame)
local autoMeleeBtn = createToggleButton("Auto Melee", 20, 120, FarmFrame)

-- Tab Sea
local SeaFrame = tabFrames["3️⃣ Sea"]
local autoSeaEventsBtn = createToggleButton("Auto Sea Events", 20, 20, SeaFrame)
local autoPirateRaidBtn = createToggleButton("Auto Pirate Raid", 20, 70, SeaFrame)

-- Tab Islands
local IslandsFrame = tabFrames["4️⃣ Islands"]
local teleportToIslandBtn = createButton("Teleport to Current Island", 20, 20, IslandsFrame)
local unlockAllIslandsBtn = createButton("Unlock All Islands", 20, 70, IslandsFrame)

-- Tab Quests/Items
local QuestsFrame = tabFrames["5️⃣ Quests/Items"]
local autoQuestBtn = createToggleButton("Auto Quest", 20, 20, QuestsFrame)
local autoCollectItemsBtn = createToggleButton("Auto Collect Items", 20, 70, QuestsFrame)

-- Tab Fruit/Paid
local FruitFrame = tabFrames["6️⃣ Fruit/Paid"]
local autoBuyFruitsBtn = createToggleButton("Auto Buy Fruits", 20, 20, FruitFrame)
local fruitNotifierBtn = createToggleButton("Fruit Notifier", 20, 70, FruitFrame)

-- Tab Stats
local StatsFrame = tabFrames["7️⃣ Stats"]
local meleeStatBtn = createButton("Auto Melee Stats", 20, 20, StatsFrame)
local defenseStatBtn = createButton("Auto Defense Stats", 20, 70, StatsFrame)
local swordStatBtn = createButton("Auto Sword Stats", 20, 120, StatsFrame)

-- Tab Teleport
local TeleportFrame = tabFrames["8️⃣ Teleport"]
local tpToPlayerBtn = createButton("TP to Player", 20, 20, TeleportFrame)
local tpToBossBtn = createButton("TP to Boss", 20, 70, TeleportFrame)
local tpToSafeZoneBtn = createButton("TP to Safe Zone", 20, 120, TeleportFrame)

-- Tab Visual
local VisualFrame = tabFrames["9️⃣ Visual"]
local espToggleBtn = createToggleButton("ESP Players", 20, 20, VisualFrame)
local espFruitsToggleBtn = createToggleButton("ESP Fruits", 20, 70, VisualFrame)

-- Tab Shop
local ShopFrame = tabFrames["1️⃣0️⃣ Shop"]
local autoBuyHakiBtn = createToggleButton("Auto Buy Haki", 20, 20, ShopFrame)
local autoBuyFightingBtn = createToggleButton("Auto Buy Fighting Style", 20, 70, ShopFrame)

-- Tab Misc
local MiscFrame = tabFrames["1️⃣1️⃣ Misc"]
local noClipBtn = createToggleButton("No Clip", 20, 20, MiscFrame)
local flyBtn = createToggleButton("Fly", 20, 70, MiscFrame)
local speedBtn = createToggleButton("Speed Hack", 20, 120, MiscFrame)

-- Hàm tạo nút toggle
function createToggleButton(text, x, y, parent)
    local toggleBtn = Instance.new("TextButton")
    toggleBtn.Size = UDim2.new(0, 200, 0, 35)
    toggleBtn.Position = UDim2.new(0, x, 0, y)
    toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
    toggleBtn.Text = text .. ": OFF"
    toggleBtn.Font = Enum.Font.Gotham
    toggleBtn.TextSize = 13
    toggleBtn.TextColor3 = Color3.fromRGB(80, 30, 60)
    toggleBtn.Parent = parent
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = toggleBtn
    
    local isEnabled = false
    
    toggleBtn.MouseButton1Click:Connect(function()
        isEnabled = not isEnabled
        if isEnabled then
            toggleBtn.Text = text .. ": ON"
            TweenService:Create(toggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(144, 238, 144)}):Play()
        else
            toggleBtn.Text = text .. ": OFF"
            TweenService:Create(toggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
        end
    end)
    
    -- Hiệu ứng hover
    toggleBtn.MouseEnter:Connect(function()
        TweenService:Create(toggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 192, 203)}):Play()
    end)
    
    toggleBtn.MouseLeave:Connect(function()
        local targetColor = isEnabled and Color3.fromRGB(144, 238, 144) or Color3.fromRGB(255, 182, 193)
        TweenService:Create(toggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = targetColor}):Play()
    end)
    
    return toggleBtn
end

-- Hàm tạo nút thường
function createButton(text, x, y, parent)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 200, 0, 35)
    button.Position = UDim2.new(0, x, 0, y)
    button.BackgroundColor3 = Color3.fromRGB(255, 182, 193)
    button.Text = text
    button.Font = Enum.Font.Gotham
    button.TextSize = 13
    button.TextColor3 = Color3.fromRGB(80, 30, 60)
    button.Parent = parent
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = button
    
    -- Hiệu ứng hover
    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 192, 203)}):Play()
    end)
    
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
    end)
    
    button.MouseButton1Click:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 105, 180)}):Play()
        wait(0.1)
        TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
    end)
    
    return button
end

-- Kích hoạt tab đầu tiên
if tabButtons["1️⃣ Discord"] then
    tabButtons["1️⃣ Discord"]:MouseButton1Click()
end

-- Chức năng khi nhấn nút X
CloseBtn.MouseButton1Click:Connect(function()
    WarningFrame.Visible = true
end)

-- Chức năng khi nhấn nút Có
YesBtn.MouseButton1Click:Connect(function()
    -- Xóa toàn bộ GUI (tắt script)
    gui:Destroy()
end)

-- Chức năng khi nhấn nút Không
NoBtn.MouseButton1Click:Connect(function()
    WarningFrame.Visible = false
end)

-- Hiệu ứng hover cho nút Có
YesBtn.MouseEnter:Connect(function()
    TweenService:Create(YesBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 65, 140)}):Play()
end)
YesBtn.MouseLeave:Connect(function()
    TweenService:Create(YesBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 105, 180)}):Play()
end)

-- Hiệu ứng hover cho nút Không
NoBtn.MouseEnter:Connect(function()
    TweenService:Create(NoBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 192, 203)}):Play()
end)
NoBtn.MouseLeave:Connect(function()
    TweenService:Create(NoBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 182, 193)}):Play()
end)

-- Chức năng toggle menu (tốc độ nhanh hơn)
ToggleBtn.MouseButton1Click:Connect(function()
    if Main.Visible then
        -- Đóng menu (nhanh)
        TweenService:Create(Main, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
        TweenService:Create(Header, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
        TweenService:Create(Title, TweenInfo.new(0.15), {TextTransparency = 1}):Play()
        
        wait(0.15)
        Main.Visible = false
        WarningFrame.Visible = false -- Ẩn cảnh báo khi đóng menu
    else
        -- Mở menu (nhanh)
        Main.Visible = true
        Main.BackgroundTransparency = 1
        Header.BackgroundTransparency = 1
        Title.TextTransparency = 1
        
        TweenService:Create(Main, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
        TweenService:Create(Header, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
        TweenService:Create(Title, TweenInfo.new(0.2), {TextTransparency = 0}):Play()
    end
end)

-- Hiệu ứng hover cho nút toggle (nhanh hơn)
ToggleBtn.MouseEnter:Connect(function()
    TweenService:Create(ToggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 250, 252)}):Play()
    TweenService:Create(ToggleStroke, TweenInfo.new(0.1), {Color = Color3.fromRGB(255, 105, 180)}):Play()
end)

ToggleBtn.MouseLeave:Connect(function()
    TweenService:Create(ToggleBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 240, 245)}):Play()
    TweenService:Create(ToggleStroke, TweenInfo.new(0.1), {Color = Color3.fromRGB(255, 182, 193)}):Play()
end)
